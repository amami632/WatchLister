<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Watchlister</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
    <canvas id="bgCanvas"></canvas>
  <div class="app">
    <header class="app-header">
      <h1 data-text="Watchlister">Watchlister</h1>
      <p>Keep track of movies and series you want to watch later.</p>
    </header>

    <!-- Stats bar -->
    <section class="stats-bar">
      <div class="stat">
        <span class="stat-label">Total</span>
        <span class="stat-value" id="statsTotal">0</span>
      </div>
      <div class="stat">
        <span class="stat-label">Movies</span>
        <span class="stat-value" id="statsMovies">0</span>
      </div>
      <div class="stat">
        <span class="stat-label">Series</span>
        <span class="stat-value" id="statsSeries">0</span>
      </div>
    </section>

    <!-- Filter + search -->
    <section class="toolbar">
      <div class="filter-chips">
        <button id="filterAll" class="chip chip-active" onclick="setFilter('all')">All</button>
        <button id="filterMovies" class="chip" onclick="setFilter('movie')">Movies</button>
        <button id="filterSeries" class="chip" onclick="setFilter('series')">Series</button>
      </div>

      <!-- View switch -->
<section class="toolbar" style="margin-top:10px;">
  <div class="filter-chips">
    <button id="viewTableBtn" class="chip chip-active" onclick="setView('table')">üìã Table</button>
    <button id="viewPostersBtn" class="chip" onclick="setView('posters')">üñºÔ∏è Posters</button>
  </div>
</section>

<!-- Posters view card -->
<section class="card card-posters hidden" id="postersCard">
  <div class="card-header-row">
    <h2 class="card-title">Posters</h2>
  </div>

  <div id="postersGrid" class="posters-grid"></div>
</section>
      <div class="search-box">
        <div class="search-input-wrapper">
          <span class="search-icon">üîç</span>
          <input type="text" id="searchQuery" onkeyup="onSearchChange();" placeholder="Type to search‚Ä¶">
        </div>
      
        <div class="search-mode-select">
          <span class="search-mode-label">Search by</span>
          <div class="select-wrapper">
            <select id="searchMode" onchange="onSearchChange();">
              <option value="title">üé¨ Title</option>
              <option value="platform">üì∫ Platform</option>
              <option value="actors">üé≠ Actors</option>
              <option value="genre">üè∑Ô∏è Genre</option>
            </select>
            <span class="select-chevron">‚ñæ</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Toggle form button -->
    <section class="form-toggle">
      <button class="btn btn-outline" id="toggleFormBtn" onclick="toggleForm();">
        + Add a new title
      </button>
    </section>

    <!-- Form card -->
    <section class="card card-form collapsed" id="formCard">
      <h2 class="card-title">New movie / series</h2>
      <p class="card-subtitle">Fill the information, then click <strong>Add to list</strong>.</p>

      <form onsubmit="return formSubmitted();">
        <div class="form-grid">

          <div class="form-row">
            <label for="title">Name *</label>
            <input type="text" id="title" required placeholder="Inception, Stranger Things‚Ä¶">
          </div>

          <div class="form-row">
            <label for="platform">Available on *</label>
            <select id="platform" required>
              <option value="">Choose platform‚Ä¶</option>
              <option value="Netflix">Netflix</option>
              <option value="Amazon Prime Video">Amazon Prime Video</option>
              <option value="Disney+">Disney+</option>
              <option value="Canal+">Canal+</option>
              <option value="Apple TV+">Apple TV+</option>
              <option value="Other">Other</option>
            </select>
                    </div>

          <div class="form-row">
            <label for="actors">Main actors</label>
            <input type="text" id="actors" placeholder="Actor 1, Actor 2‚Ä¶">
          </div>

          <div class="form-row">
            <label for="mainCategory">Main category *</label>
            <select id="mainCategory" required>
              <option value="">Choose‚Ä¶</option>
              <option value="Movie">Movie</option>
              <option value="Series">Series</option>
            </select>
          </div>

          <div class="form-row">
            <label>Genres *</label>
          
            <div class="genre-grid" id="genreBox">
              <label><input type="checkbox" value="Action"> Action</label>
              <label><input type="checkbox" value="Comedy"> Comedy</label>
              <label><input type="checkbox" value="Drama"> Drama</label>
              <label><input type="checkbox" value="Romance"> Romance</label>
              <label><input type="checkbox" value="Science fiction"> Science fiction</label>
              <label><input type="checkbox" value="Thriller"> Thriller</label>
              <label><input type="checkbox" value="Horror"> Horror</label>
              <label><input type="checkbox" value="Fantasy"> Fantasy</label>
              <label><input type="checkbox" value="Documentary"> Documentary</label>
            </div>
          </div>

          <div class="form-row">
            <label for="releaseYear">Release year</label>
            <input type="number" id="releaseYear" min="1900" max="2100" step="1" placeholder="2014">
          </div>

          <div class="form-row">
            <label for="posterUrl">Poster URL *</label>
            <input type="url" id="posterUrl" placeholder="https://‚Ä¶">
                    </div>

          <!-- <div class="form-row">
            <label for="extraImages">Extra images</label>
            <input type="text" id="extraImages" placeholder="URLs separated by commas">
          </div> -->

          <div class="form-row">
            <label for="trailerUrl">Trailer (YouTube embed)</label>
            <input type="url" id="trailerUrl" placeholder="https://www.youtube.com/embed/...">
          </div>

        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Add to list</button>
        </div>
      </form>
    </section>

    <!-- Table card -->
    <section class="card card-table">
      <div class="card-header-row">
        <h2 class="card-title">To-watch list</h2>
        <p class="card-subtitle">
          Click a cell to edit or click a row for more details.
        </p>
      </div>

      <div id="movies" class="table-wrapper"></div>

      <div class="card-footer-row">
        <div id="pagination">
          <button id="prevPageBtn" onclick="prevPage();" class="btn btn-secondary">Previous</button>
          <span id="pageInfo"></span>
          <button id="nextPageBtn" onclick="nextPage();" class="btn btn-secondary">Next</button>
        </div>

        <!-- <div class="bottom-actions">
          <button onclick="emptyList();" class="btn btn-danger">Empty</button>
          <button onclick="mm.save();" class="btn btn-outline">Save</button>
          <button onclick="loadList();" class="btn btn-outline">Load</button>
        </div> -->
      </div>
    </section>

  </div>

  

  <!-- Movie details modal -->
<div id="movieModal" class="modal hidden" onclick="closeMovieModal();">
  <div class="modal-card" onclick="event.stopPropagation();">
    <button class="modal-close" onclick="closeMovieModal();">‚úï</button>

    <div class="modal-content">
      <img id="modalPoster" class="modal-poster" src="" alt="Poster">

      <div class="modal-info">
        <h2 id="modalTitle" class="modal-title">Title</h2>
        <p id="modalMeta" class="modal-meta">Movie ¬∑ 2017 ¬∑ Netflix</p>

        <p class="modal-label">Actors</p>
        <p id="modalActors" class="modal-text">‚Äî</p>

        <p class="modal-label">Genre</p>
        <p id="modalGenre" class="modal-text">‚Äî</p>
        <p class="modal-label">Description</p>
        <p id="modalDescription" class="modal-text">‚Äî</p>

        <div class="modal-actions">
          <button id="modalTrailerBtn" class="btn btn-primary hidden">‚ñ∂ Watch trailer</button>
        </div>

        <div id="modalExtraImages" class="modal-extras"></div>
      </div>
    </div>
  </div>
</div>

<script src="index.js"></script>
</body>
</html>